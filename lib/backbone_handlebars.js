// Generated by CoffeeScript 1.3.1
(function() {

  Handlebars.registerHelper('view', function(name, options) {
    var parentView, view, viewClass;
    viewClass = window[name];
    view = new viewClass;
    parentView = options.data.view;
    if (parentView._toRender == null) {
      parentView._toRender = [];
    }
    parentView._toRender.push(view);
    return new Handlebars.SafeString('<div id="_' + view.cid + '"></div>');
  });

  Backbone.View.prototype.renderTemplate = function(context) {
    var _this = this;
    if (context == null) {
      context = {};
    }
    this.$el.html(this.template(context, {
      data: {
        view: this
      }
    }));
    return _.each(this._toRender, function(view) {
      view.render();
      return _this.$("#_" + view.cid).replaceWith(view.el);
    });
  };

}).call(this);
